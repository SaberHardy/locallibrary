{% extends 'catalog/base.html' %}
<title>{% block title %}All books{% endblock %}</title>

{% block content %}
    <h1 class="text-center mt-3">List of books</h1>

    <table class="table mx-5 my-5">
        <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Author</th>
            <th scope="col">Book Name</th>
            <th scope="col">Number books</th>
            <th scope="col">Genre</th>
            <th scope="col">Update</th>
        </tr>
        </thead>
        <tbody>
        {% if my_books %}
            {% for book in object_list %}
                <tr>
                    <th scope="row">{{ book.id }}</th>
                    <td><a href="{{ book.author.get_absolute_url }}">
                        {{ book.author.last_name }} {{ book.author.first_name }}</a>
                    </td>
                    <td><a href="{{ book.get_absolute_url }}">{{ book.title }}</a></td>
                    <td>{{ book.author.book_set.count }}</td>
                    <td>{{ book.display_genre }}</td>
                    <td class="text-center"><a href="{% url 'update_book' book.id %}">
                        <i class="bi bi-pencil-square text-success"></i>
                    </a> </td>
                </tr>
            {% endfor %}
        {% endif %}
        </tbody>
    </table>
{% endblock %}